{
  "template_dirname": "query_templates",
  "output_dirname": "query_output",
  "parameters": {
    "a-planet-db": {
      "host_address": "rds.amazonaws.com",
      "superuser": "postgres",
      "db_name": "planet",
      "db_schema": "public",
      "gbmi_schema": "gbmi",
      "new_users": [
        {
          "new_user": "adam",
          "password": "xyzxyz"
        },
        {
          "new_user": "hana",
          "password": "abcabc"
        }
      ]
    },
    "b-rasters-and-gadm": {
      "host_address": "rds.amazonaws.com",
      "db_name": "openstreetmap",
      "db_schema": "public",
      "user": "tom",
      "gadm_source_file": "/data/gadm36_shp/gadm36.shp",
      "gadm_target_table": "gadm36",
      "rasters": [
        {
          "raster_name": "worldpop2020",
          "raster_source_file": "/data/worldpop/ppp_2020_1km_aggregated.tif",
          "raster_target_table": "raw_tiles_worldpop2020"
        },
        {
          "raster_name": "guf",
          "raster_source_file": "/data/GUF_tile/guf_tile_4326.tif",
          "raster_target_table": "raw_tiles_guf"
        }
      ]
    },
    "c-gbmi": {
      "db_schema": "public",
      "gbmi_schema": "gbmi",
      "raster_names": [
        {
          "raster_name": "guf"
        },
        {
          "raster_name": "worldpop2020"
        }
      ],
      "buffers": [
        {
          "buffer": 100
        },
        {
          "buffer": 200
        },
        {
          "buffer": 250
        }
      ],
      "agg_levels": [
        {
          "agg_level": "cell",
          "agg_columns": "cell_id, cell_country, cell_admin_div1, cell_admin_div2",
          "agg_geom": "cell_geom",
          "agg_area": "cell_area",
          "join_clause": "",
          "order_columns": "cell_country, cell_admin_div1, cell_admin_div2, cell_id"
        },
        {
          "agg_level": "admin_div2",
          "agg_columns": "cell_country, cell_admin_div1, cell_admin_div2",
          "agg_geom": "agga.agg_geom_admin_div2",
          "agg_area": "agga.agg_area_admin_div2",
          "join_clause": "LEFT JOIN public.agg_gadm36_geom_areas agga ON bga.cell_country = agga.country AND bga.cell_admin_div1 = agga.admin_div1 AND bga.cell_admin_div2 = agga.admin_div2",
          "order_columns": "cell_country, cell_admin_div1, cell_admin_div2"
        },
        {
          "agg_level": "admin_div1",
          "agg_columns": "cell_country, cell_admin_div1",
          "agg_geom": "agga.agg_geom_admin_div1",
          "agg_area": "agga.agg_area_admin_div1",
          "join_clause": "LEFT JOIN public.agg_gadm36_geom_areas agga ON bga.cell_country = agga.country AND bga.cell_admin_div1 = agga.admin_div1",
          "order_columns": "cell_country, cell_admin_div1"
        },
        {
          "agg_level": "country",
          "agg_columns": "cell_country",
          "agg_geom": "agga.agg_geom_country",
          "agg_area": "agga.agg_area_country",
          "join_clause": "LEFT JOIN public.agg_gadm36_geom_areas agga ON bga.cell_country = agga.country",
          "order_columns": "cell_country"
        }
      ]
    }
  },
  "overwrite": true
}

